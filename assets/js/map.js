/**
 * Created by Jean on 2019-10-09.
 */

var MapBase = {
  minZoom: 2,
  maxZoom: 7,
  map: null,
  markers: [],
  itemsMarkedAsImportant: [],
  isDarkMode: false,

  init: function () {

    //Please, do not use the GitHub map tiles. Thanks
    var mapLayers = [
      L.tileLayer('https://s.rsg.sc/sc/images/games/RDR2/map/game/{z}/{x}/{y}.jpg', {
        noWrap: true,
        bounds: L.latLngBounds(L.latLng(-144, 0), L.latLng(0, 176)),
        attribution: '<a href="https://www.rockstargames.com/" target="_blank">Rockstar Games</a>'
      }),
      L.tileLayer((isLocalHost() ? '' : 'https://jeanropke.b-cdn.net/') + 'assets/maps/detailed/{z}/{x}_{y}.jpg', {
        noWrap: true,
        bounds: L.latLngBounds(L.latLng(-144, 0), L.latLng(0, 176)),
        attribution: '<a href="https://rdr2map.com/" target="_blank">RDR2Map</a>'
      }),
      L.tileLayer((isLocalHost() ? '' : 'https://jeanropke.b-cdn.net/') + 'assets/maps/darkmode/{z}/{x}_{y}.jpg', {
        noWrap: true,
        bounds: L.latLngBounds(L.latLng(-144, 0), L.latLng(0, 176)),
        attribution: '<a href="https://github.com/TDLCTV" target="_blank">TDLCTV</a>'
      })
    ];

    Heatmap.initLayer();

    MapBase.map = L.map('map', {
      preferCanvas: true,
      attributionControl: false,
      minZoom: this.minZoom,
      maxZoom: this.maxZoom,
      zoomControl: false,
      crs: L.CRS.Simple,
      layers: [mapLayers[parseInt($.cookie('map-layer'))], Layers.heatmapLayer]
    }).setView([-70, 111.75], 3);

    MapBase.map.addControl(
      L.control.attribution({
        position: 'bottomleft',
        prefix: '<span data-text="map.attribution_prefix">Tiles provided by</span>'
      })
    );

    L.control.zoom({
      position: 'bottomright'
    }).addTo(MapBase.map);

    var baseMapsLayers = {
      'map.layers.default': mapLayers[0],
      'map.layers.detailed': mapLayers[1],
      'map.layers.dark': mapLayers[2]
    };

    L.control.layers(baseMapsLayers).addTo(MapBase.map);

    MapBase.map.on('baselayerchange', function (e) {
      var mapIndex;

      switch (e.name) {
        case 'map.layers.default':
          mapIndex = 0;
          break;
        case 'map.layers.dark':
          mapIndex = 2;
          break;
        case 'map.layers.detailed':
        default:
          mapIndex = 1;
          break;
      }

      setMapBackground(mapIndex);
    });

    MapBase.map.on('click', function (e) {
      MapBase.addCoordsOnMap(e);
    });

    if (Settings.isDoubleClickZoomEnabled) {
      MapBase.map.doubleClickZoom.enable();
    } else {
      MapBase.map.doubleClickZoom.disable();
    }

    var southWest = L.latLng(-160, -50),
      northEast = L.latLng(25, 250),
      bounds = L.latLngBounds(southWest, northEast);
    MapBase.map.setMaxBounds(bounds);

    Layers.oms = new OverlappingMarkerSpiderfier(MapBase.map, { keepSpiderfied: true });
    Layers.oms.addListener('spiderfy', function (markers) {
      MapBase.map.closePopup();
    });
  },

  loadMarkers: function () {
    $.getJSON('data/items.json?nocache=' + nocache)
      .done(function (data) {
        MapBase.setMarkers(data);
      });
  },

  setMarkers: function (data) {
    console.log(`Categories disabled: ${categoriesDisabledByDefault}`);
    $.each(data, function (_category, _markers) {
      $.each(_markers, function (_key, marker) {
        if (Array.isArray(marker)) {
          $.each(marker, function (_, submarkers) {
            MapBase.markers.push(new Marker(_key, submarkers.lat, submarkers.lng, _category, _key, submarkers.count));
          });
        } else {
          MapBase.markers.push(new Marker(_category, marker.lat, marker.lng, _category));
        }
      });
    });
    uniqueSearchMarkers = MapBase.markers;

    MapBase.addMarkers(true);

    // Do search via URL.
    var searchParam = getParameterByName('search');
    if (searchParam != null && searchParam) {
      $('#search').val(searchParam)
      MapBase.onSearch(searchParam);
    }

    // Navigate to marker via URL.
    var markerParam = getParameterByName('m');
    if (markerParam != null && markerParam != '') {
      var goTo = MapBase.markers.filter(_m => _m.text == markerParam)[0];

      //if a marker is passed on url, check if is valid
      if (typeof goTo == 'undefined' || goTo == null) return;

      //set map view with marker lat & lng
      MapBase.map.setView([goTo.lat, goTo.lng], 6);

      //check if marker category is enabled, if not, enable it
      if (Layers.itemMarkersLayer.getLayerById(goTo.text) == null) {
        enabledCategories.push(goTo.category);
        MapBase.addMarkers();
        $(`[data-type="${goTo.category}"]`).removeClass('disabled');
      }

      //open marker popup
      Layers.itemMarkersLayer.getLayerById(goTo.text).openPopup();
    }
  },

  onSearch: function (searchString) {
    searchTerms = [];
    $.each(searchString.split(';'), function (key, value) {
      if ($.inArray(value.trim(), searchTerms) == -1) {
        if (value.length > 0)
          searchTerms.push(value.trim());
      }
    });

    if (searchTerms.length == 0) {
      uniqueSearchMarkers = MapBase.markers;
    } else {
      Layers.itemMarkersLayer.clearLayers();
      Layers.plantsLayer.clearLayers();
      var searchMarkers = [];
      uniqueSearchMarkers = [];
      $.each(searchTerms, function (id, term) {
        searchMarkers = searchMarkers.concat(MapBase.markers.filter(function (_marker) {
          if (_marker.title != null)
            return _marker.title.toLowerCase().includes(term.toLowerCase())
        }));

        $.each(searchMarkers, function (i, el) {
          if ($.inArray(el, uniqueSearchMarkers) === -1) uniqueSearchMarkers.push(el);
        });
      });
    }

    MapBase.addMarkers();
  },

  addMarkers: function (refreshMenu = false) {
    Layers.plantsLayer.addTo(MapBase.map);
    Layers.canvasLayer.addTo(MapBase.map);

    if (Layers.itemMarkersLayer != null)
      Layers.itemMarkersLayer.clearLayers();
    if (Layers.plantsLayer != null)
      Layers.plantsLayer.clearLayers();
    if (Layers.miscLayer != null)
      Layers.miscLayer.clearLayers();
    if (Layers.canvasLayer != null)
      Layers.canvasLayer.clearLayers();

    var opacity = Settings.markerOpacity;

    var baseMarkers = MapBase.markers.filter(_m => { return enabledCategories.includes(_m.category) && _m.category != 'plants'; });
    var plantMarkers = MapBase.markers.filter(_m => { return enabledCategories.includes('plants') && enabledPlants.includes(_m.subdata) && _m.category == 'plants'; });

    $.each(baseMarkers, function (key, marker) {
      //Set isVisible to false. addMarkerOnMap will set to true if needs
      marker.isVisible = false;

      if (marker.subdata != null)
        if (categoriesDisabledByDefault.includes(marker.subdata))
          return;

      MapBase.addMarkerOnMap(marker, opacity);
    });

    if (plantMarkers.length > 0) {
      var plantMarkersInst = [];
      MapBase.yieldingLoop(plantMarkers.length, 25, function (i) {
        var marker = plantMarkers[i];
        marker.isVisible = false;
        var markerInst = MapBase.createCanvasMarker(marker, opacity);
        if (typeof markerInst == 'undefined') return;
        plantMarkersInst.push(markerInst);
        // Layers.plantsLayer.addLayer(markerInst);
      }, function () {
        Layers.plantsLayer.addLayers(plantMarkersInst);
      });
    }

    if ($.cookie('right-click') != null) {
      var markerColors = {
        'beige': '#FFCA8F',
        'black': '#2F2F2F',
        'blue': '#37A9DC',
        'cadetblue': '#416776',
        'darkblue': '#0066A2',
        'darkgreen': '#718022',
        'darkpurple': '#593769',
        'darkred': '#A13235',
        'gray': '#565656',
        'green': '#70AE25',
        'lightblue': '#88DBFF',
        'lightgray': '#A3A3A3',
        'lightgreen': '#BBF970',
        'lightorange': '#FF8C7D',
        'lightred': '#EB7D7F',
        'orange': '#F5962F',
        'pink': '#FF90E9',
        'purple': '#D151B8',
        'red': '#D43D29',
      };

      var markerIcons = {
        'animals': 'M76.28 21.688c-26.378 9.306-43.39 25.92-51.374 49.53 33.78 22.83 81.775 69.988 100.875 114.813 7.62 17.88 13.92 38.086 17.97 59.126 5.308-2.97 33.706 40.776 25.5 33.156-1.905-1.766-22.602-12.653-22.125-5.53 1.39 20.77 2.154 36.28-1.22 56.28-8.794 52.14-56.968 122.188-56.968 122.188 22.368 21.103 35.882 27.827 74.876 35.78l77-100.405c28.983 22.87 5.424 64 28.218 62.47 21.462-1.442 2.15-41.235 18.44-61.845 16.95 22.598 36.356 41.26 55.717 57.125 2.09 2.124 1.477-61.477 5.75-47.594 4.162 13.52 13.724 52.06 18.47 65.25 12.987 13.292 22.495 24.418 38.437 27.595 36.918 7.356 33.552-2.188 69.28-22.094 0 0-62.02-74.034-76.468-118.874-14.824-46.01-21.362-98.512-7.5-144.812 15.787-52.74 97.78-133.094 97.78-133.094-4.763-5.607-8.447-9.992-11.686-13.688-3.5-3.993-35.27 15.448-38.594 12.438-3.296-2.988 21.852-28.457 17.094-31.75-5.434-3.76-12.353-8.134-21.97-14.063-32.09 39.05-59.294 63.115-112.624 96.376-4.038-23.52-1.745-37.2-19.344-53.938-17.6-16.74-55.628-29.337-89.187-.594-14.822 12.696-11.758 33.168-19.47 51.532-24.79-42.81-90.31-87.444-116.874-95.374zM273.157 141.03c3.632 9.382 1.912 19.278-1.5 28.626-3.412 9.348-8.772 18.586-14.625 27.375-3.624 5.446-7.432 10.64-11.155 15.595 10.79-3.762 22.226-7.236 33.5-2.594l10.688 4.407-6.875 9.282c-3.87 5.213-7.125 9.803-9.97 14 3.6-1.794 7.416-3.395 11.532-4.564 3.455-.98 9.48 1.043 11.625 4 2.144 2.957 2.316 5.218 2.53 7.28.432 4.128.016 8.136-.53 12.69-1.093 9.104-3.05 19.868-3.5 26.062l-17.97-1.313c.597-8.223 2.62-18.754 3.595-26.875.026-.218.007-.254.03-.47-8.836 4.995-18.517 12.7-30.56 17.75L224.437 283l14.343-23.688c5.164-8.52 10.192-17.848 19.22-31.218-3.025.674-6.163 1.506-9.344 2.625-5.286 1.858-10.545 4.006-15.094 5.843-4.548 1.836-7.876 3.33-11.78 4.156l-21.032 4.468 11.594-18.125c5.86-9.155 18.906-23.762 29.72-40 5.405-8.12 10.077-16.445 12.686-23.594 2.61-7.15 2.883-12.69 1.625-15.94l16.78-6.5z',
        'birds': 'M470.72 20L368.186 49.813l41.563-28.094c-26.254 5.922-59.36 17.502-100.97 36.186l-67.874 70.78L264.97 79.25c-23.247 12.958-47.95 29.99-71.814 49.844l-15.78 64.312L174 145.844c-23.55 21.548-45.624 45.6-63.875 70.812-19.25 26.59-34.28 54.506-41.813 82.438L40.19 280.28c6.138 19.613 11.892 39.232 22.906 58.845.032 1.468.1 2.944.187 4.406L29.657 333.19c11.227 18.284 23.577 35.893 43 49.125.45 1.003.953 1.973 1.438 2.968-11.838 33.33-20.568 67.004-26.53 101.69l18.405 3.155c4.952-28.808 11.836-56.842 20.905-84.563.04.053.084.105.125.157 44.277-156.11 142.813-266.846 287.03-324l6.876 17.374c-129.048 51.143-219.303 145.15-265.78 279.062 18.106.102 35.796-2.088 52.218-6.22l4.875-60.967 13.093 55.5c10.84-3.922 20.88-8.762 29.812-14.376l-20.688-43.47 32.782 34.813c7.944-6.468 14.613-13.678 19.624-21.53 30.308-47.507 62.195-94.728 124.75-134.188l-45.72-16.25 70.157 2.124c2.044-1.085 4.087-2.18 6.19-3.25 9.087-4.63 17.916-10.182 26.31-16.375L378.814 150l74.718-17.625c5.788-5.81 11.174-11.836 16.033-17.97 17.384-21.94 29.034-44.784 26.28-65.56-1.376-10.39-7.556-20.154-17.624-25.626-2.333-1.27-4.832-2.337-7.5-3.22zM106.25 406c-.89 3.06-1.778 6.122-2.625 9.22l2.625-9.22z',
        'fish': 'M236.977 26.432c-.48 0-.8.32-1.282.32l-2.244 1.123L95.276 85.262C86.78 89.11 79.087 93.757 71.71 99.047c0 0-.32 0-.32.48-3.526 3.046-6.89 6.573-9.937 10.42-3.526 4.97-6.572 10.74-8.976 16.83-1.443 5.77-2.244 11.222-2.565 16.993v1.923c0 4.65.64 8.817 2.244 13.145.32-4.65 1.602-9.62 3.526-13.947 2.244-5.29 6.09-9.938 11.06-13.464 3.046-1.924 6.573-3.847 10.1-4.97 4.648-1.12 9.136-1.922 14.265-2.724 7.695-.8 15.39-1.122 22.282-1.443 9.136 0 18.11.32 27.73.64 11.54.48 22.6 1.924 33.02 3.847 8.176 1.283 15.87 2.726 24.206 4.328l-3.848-5.77-4.168-8.815c-1.122-3.527-1.924-7.374-1.924-10.9v-1.124c.32-3.847 1.124-7.694 3.047-11.54l8.496-11.542 38.47-50.012c.8-.32.8-1.122.8-1.923 0-.803 0-1.604-.8-2.246-.32-.48-1.123-.802-1.443-.802zM31.174 144.74c-1.924 3.366-3.823 6.86-5.426 10.227-2.244 5.77-3.888 11.56-5.01 17.81-.32 3.046-.765 6.556-.765 9.602 0 2.724.488 4.97.488 7.374 1.123 6.893 2.224 13.485 3.827 19.896 4.168 14.267 10.762 27.415 19.9 38.475 5.128 6.252 10.41 12.007 15.86 16.977 4.97 4.328 10.37 8.847 16.14 13.496 6.573 4.97 13.46 9.296 19.55 12.662 9.298 5.45 18.977 10.408 28.595 15.377 34.945 18.594 72.237 31.553 110.066 38.125 25.007 3.526 50.048 6.592 75.696 8.836 0 5.13.312 10.405 1.113 15.375.802 6.25 2.256 12.805 4.66 18.576 2.244 6.41 4.99 12.666 8.836 18.436 4.168 6.092 9.09 11.595 14.54 17.045 6.092 5.29 12.692 9.902 20.386 13.43 5.77 2.564 12.003 4.137 18.575 4.938 1.924 0 3.852.348 5.775.348 1.123 0 2.216-.348 3.338-.348l103.248-7.373h.348c.32 0 1.113-.31 1.113-1.113 0-.8-.827-1.12-1.95-1.6-3.846-1.124-7.985-2.572-12.313-4.175-4.49-1.603-9.635-3.47-14.123-4.592-6.572-2.244-13.47-4.68-20.523-6.123-6.893-1.603-13.777-3.03-21.15-4.313-4.65-.32-9.615-1.105-14.264-2.227-.64-.32-1.46-1.175-1.46-2.297 0 0 .028-.443.35-.764 0-.48.485-.836.485-.836 0-.32.277-.284.277-.765 1.123-.8 2.775-1.585 3.897-2.226 2.725-1.603 5.437-2.772 8.002-3.894 6.572-3.206 13.47-5.77 20.523-8.977 3.046-1.122 6.068-2.216 9.114-3.338 4.33-1.603 8.966-2.738 15.378-4.662 1.282-.32 2.397-.793 3.2-1.113 2.564-.802 5.344-1.634 8.07-2.436-5.45-8.335-12.336-16.484-19.55-23.377l-14.332-13.775c-4.97-4.328-9.588-8.183-13.916-11.55-7.213-5.128-14.25-10.093-20.662-14.26-12.824-8.496-25.844-15.9-39.308-22.473-6.893-3.368-13.933-6.38-24.352-10.228-9.938-3.526-19.525-7.063-17.602-6.262-8.816-2.725-18.107-5.318-26.923-7.722L270.158 191.7c-7.373 3.848-15.064 7.67-21.637 10.716-5.77 2.725-11.51 4.208-17.602 5.01-7.374 1.603-14.61 1.565-21.984.763l-93.436-7.653 25.324 30.264c.802 1.283 1.94 2.712 3.06 4.315.802.802.766 1.43.766 2.713-.32 1.122-1.11 1.95-2.712 1.95-4.49.32-9.127-.008-13.776-.49-6.572-.8-13.18-1.902-19.27-3.825-5.45-1.122-10.382-3.043-15.03-5.287-6.092-2.405-12.383-5.448-17.672-8.975-4.97-3.044-10.05-6.446-14.54-10.296-5.13-3.847-9.656-8.154-13.984-12.802-2.725-3.046-5.41-6.866-7.654-10.713-2.725-5.29-5.007-10.79-6.61-16.56-1.122-6.25-2.232-12.355-2.712-17.324.48-2.725.486-5.4.486-8.766zM20.6 247.3l1.12 9.296c4.65 29.975 15.87 58.83 32.382 84.636 11.22 17.793 25.487 32.7 41.998 44.243l8.816 6.25 17.63 11.06c38.632 22.762 81.272 37.83 125.995 44.402l31.1 2.565 31.737 1.924 33.502-.32c-8.817-5.45-16.833-11.863-23.886-19.237l-6.892-8.015c-5.77-7.373-10.42-15.068-13.465-23.564-1.443-5.45-2.726-10.418-3.848-15.708l-1.925-12.342-33.34-3.527-26.13-3.365-17.63-2.727c-10.1-1.922-20.037-4.647-30.136-7.692l-32.222-11.54-25.006-11.222-25.486-12.664-23.885-13.145-18.755-12.662-23.882-22.28L20.6 247.298zm393.226 92.313c7.213 0 13.15 6.125 13.15 13.498 0 7.535-5.937 13.497-13.15 13.497s-13.148-5.962-13.148-13.496c0-7.372 5.935-13.497 13.148-13.497zm-332.07 85.684c14.266 9.618 27.73 20.037 40.074 31.258 10.74 9.137 20.357 19.235 29.975 29.013 2.725 0 4.97-.802 6.892-1.443 8.496-3.847 16.19-8.015 23.885-12.664 7.374-4.167 13.786-9.135 19.236-14.905-4.167-1.603-8.496-3.046-12.664-4.328-10.42-2.565-20.356-6.092-30.134-10.42-7.214-3.046-14.108-6.41-20.68-10.258-.802.32-1.923.32-2.725.32-4.648 0-9.297-.322-13.785-1.124-13.465-1.122-26.93-3.045-40.074-5.45z',
        
        'ambush': 'M196.2 34.57c-7.5 16.07-17.3 39.33-25.7 62.86-4 11.17-7.6 22.47-10.5 32.77 80.8 26 111.2 26 192 0-2.9-10.3-6.5-21.6-10.5-32.77-8.4-23.53-18.2-46.79-25.7-62.86-26.5 13.22-42.6 20.86-59.8 20.86-17.2 0-33.3-7.64-59.8-20.86zM32.28 139H27.34c-1.71 0-2.8.1-3.72.3l-.41.5c-5.12 6.8-6.92 12.6-6.92 17.8 0 5.1 1.9 10.3 6.14 15.9 8.48 11.1 26.73 22.9 50.92 32.5C121.7 225.4 193.1 237.4 256 237.4c62.9 0 134.3-12 182.7-31.4 24.2-9.6 42.4-21.4 50.9-32.5 4.2-5.6 6.1-10.8 6.1-15.9 0-5.2-1.8-11-6.9-17.8l-.4-.5c-2-.3-6-.5-11.4-.2-11.8.7-29.8 3.2-51.8 6.2-14.8 2-31.5 4.3-49.5 6.4.8 5.3 1.3 10.2 1.3 14.7v4.8l-4 2.7c-27.1 18-71.9 25.5-117 25.5-45.1 0-89.9-7.5-117-25.5l-4-2.7v-4.8c0-4.5.5-9.4 1.3-14.7-18-2.1-34.7-4.4-49.51-6.4-22.01-3-40-5.5-51.82-6.2-.93-.1-1.83-.2-2.69-.1zm123.32 8.6c-1.1 5.2-1.9 9.8-2.3 13.7 22.1 12.5 62.4 20.1 102.7 20.1 40.3 0 80.6-7.6 102.7-20.1-.4-3.9-1.2-8.5-2.3-13.7-81.3 25.9-119.5 25.9-200.8 0zM137 265.4c.2 14 1.9 27.4 4.9 40.2 14.5-.4 29.9-3.9 44.9-9.6 8.2-3.2 16.2-7 23.9-11.2-6.1 1-12.4 1.6-18.7 1.6-14.7 0-36.1-10.1-55-21zm238 0c-18.9 10.9-40.3 21-55 21-6.3 0-12.6-.6-18.7-1.6 7.7 4.2 15.7 8 23.9 11.2 15 5.7 30.3 9.2 44.9 9.6 3-12.8 4.7-26.2 4.9-40.2zm-112.1 15.3c1.7 24.1 20.9 41.5 45 58.5-36.2-5.4-59.3-20.8-68.5-51.2-13.7 9.7-29.5 18.3-46.2 24.8-19.2 7.4-39.7 11.7-59.6 10.6 8.3 10.7 15.7 20.5 22.4 29.7 25.2 19.2 45.7 36.8 102.7 45.4-24 3.7-51.2 6.2-72.5-.9 16 25.8 28.2 65.6 43.3 95.8h53c7.9-15.9 15-45.9 22.3-59.4-16.6 13.6-34.5 16.6-47.9 15.2 34.1-14.6 53.4-37.4 74-59.6 12.4-19.3 27.3-40.3 47.5-66.2-19.9 1.1-40.4-3.2-59.6-10.6-20.9-8.1-40.3-19.6-55.9-32.1zm219 18c-5.5 0-11.7.6-18.6 1.7-15.7 2.6-34.6 7.7-55.3 14.3l-1 1.3c-12.2 15.3-22.7 28.8-31.8 41.1 15.4 9.5 24.9 20.3 35 30.9-14.5-5.7-27.4-11.7-45.4-16.6-5.1 7.2-9.8 14-14.1 20.5 9.6 3.7 19.9 6.7 30.8 9.3 26.9 6.5 56 10.1 81.5 16.6-18-27.2-43.4-55.2-74.3-77 20.1-4.1 40.6-8.6 58.7-14.9 19.9-6.9 35.9-15.8 45.2-26.5-1.8-.2-3.4-.5-5.4-.6-1.7-.1-3.4-.1-5.3-.1z',
        'boats': 'M482.2 66.37c-62.8 22.61-139.5 57.53-219.3 96.03H408c31.3-31.8 55-66.02 74.2-96.03zm9.1 18.91C462.4 129.7 423 182.1 363.8 223.3c-67.2 46.8-159.8 78.3-288.82 66.9 2.19 55.4 28.92 97.4 67.92 143.7 184.6-62.2 266.8-127.6 306-191.2 32.4-52.7 35.9-105.4 42.4-157.42zM226 180.4c-9.5 4.7-19.1 9.4-28.6 14.1h175c5.8-4.6 11.3-9.3 16.7-14.1zm-64.8 32.1c-33.3 16.7-66.19 33.2-98.25 49.4.26.1.52.3.77.4 4.1 2.4 7.87 5.7 10.24 9.9 123.04 11.6 209.84-17 273.84-59.7zm-121.63 62c-6.3 0-11.89 1.6-15.22 3.5s-3.62 3.3-3.62 3.4c0 .1.29 1.5 3.62 3.4s8.92 3.5 15.22 3.5c6.3 0 11.89-1.6 15.22-3.5s3.62-3.3 3.62-3.4c0-.1-.29-1.5-3.62-3.4s-8.92-3.5-15.22-3.5zm18.34 28.7c-5.5 2-11.72 3.1-18.34 3.1-4.33 0-8.48-.5-12.38-1.4 2.45 28.1 12.83 60.1 26.72 86.3 9.54 18.1 20.63 33.5 30.85 43.1 10.22 9.7 18.54 12.4 22.94 11 5.7-1.8 11.3-3.6 16.8-5.4-34.9-42.2-61.13-84.1-66.59-136.7z',
        'campfires': 'M281.53 23.438c48.44 71.504-18.447 145.556-63.655 58.968 27.295 144.502-65.22 166.347-74.75 74.75-73.554 65.057-59.358 147.17-20.438 210.75l45.844-26.344c-12.004-18.318-17.995-42.502-15.31-66.218 25.688 39.43 106.855 10.088 97.124-59.938 10.695 32.074 37.802 28.97 65.78-20.5C278.07 297.622 337.95 364.248 378.032 333.5c1.47 11.97-2.95 25.657-10.592 38.063l46.968 12.53c55.122-47.503 79.71-135.97-3.812-175.53 39.08 60.478-13.1 105.064-60.72 41.468-38.546-72.133 82.366-113.394-68.343-226.593zM173.876 48.124c-64.128 32.333-14.642 60.51-14.03 92.344 44.122-38.935-3.722-53.508 14.03-92.345zm74.47 269.094L75 416.874c2.71 18.39 8.98 34.417 18.813 48.5l92-44.063-78.688 59.875c3.39 3.38 7.033 6.62 10.938 9.75L192.78 448c-.023-.738-.06-1.475-.06-2.22 0-37.22 30.495-67.56 67.81-67.56 10.53 0 20.527 2.413 29.44 6.717-2.323-13.414-7.28-27.104-14.72-39.28l-94.938 40.124 82.47-56.467c-4.34-4.55-9.166-8.64-14.438-12.094zm58.874 57.624c1.61 7.148 2.6 14.315 2.967 21.312l.22 3.938c11.13 12.042 17.937 28.09 17.937 45.687 0 7.795-1.356 15.276-3.813 22.25l91.345 24.376c4.642-6.327 8.588-12.768 11.844-19.375l-63.158-24.686 70.125 6.844c.866-2.948 1.61-5.923 2.22-8.938l-97.063-34.22L439 427.5c.156-5.772-.103-11.67-.813-17.72L307.22 374.845zm-46.69 22.062c-27.26 0-49.124 21.8-49.124 48.875 0 27.078 21.864 48.876 49.125 48.876 27.263 0 49.126-21.798 49.126-48.875 0-27.075-21.863-48.874-49.125-48.874zm-4.936 11.78c43.778.002 58.435 71.595 0 71.595 26.622-23.113 29.81-46.888 0-71.592zm.187 9.845c-21.616 17.916-19.304 35.177 0 51.94-42.375 0-31.745-51.94 0-51.94z',
        'defend_campsite': 'M361.155 91.245l-18 .193.42 38.98c-45.773 13.285-108.533 19.738-166.474 23.573 35.097 96.284 99.357 173.77 157.845 257.13 20.718-19.655 51.11-31.983 83.46-36.01-20.8-18.109-36.634-27.966-58.833-70.438 31.27 37.085 52.579 48.467 77.623 62.006 3.263-13.094 8.938-24.638 18.721-32.674 8.667-7.12 20.026-10.654 33.53-10.344-46.874-59.763-101.67-117.054-127.83-189.435l-.462-42.98zM163.25 102.92l-17.998.244s.25 18.34.56 36.97c.156 9.316.325 18.703.489 25.929.06 2.636.117 4.58.174 6.542-34.378 83.733-69.154 160.993-123.92 233.442 33.635-1.387 66.326-1.203 98.552-.041 22.263-62.617 23.346-134.855 35.627-202.006 11.417 68.562 10.566 139.445 33.483 205.83 42.962 3.082 85.69 7.198 129.35 10.926-55.67-79.151-118.213-155.037-155.118-249.365-.05-1.782-.1-3.396-.152-5.737-.162-7.156-.333-16.523-.488-25.82-.31-18.594-.559-36.914-.559-36.914z',
        'dog_encounter': 'M231.6 16.18l16.7 120.02 73.8 20.5c37.3-11.2 78.5-18.2 102.3-43.6 9.7-10.3 17.2-24.78 9.1-37.92l-75.3 2.22-14.6-31.79h-74.7c-7.7-11.71-22.8-20.46-37.3-29.43zm5.7 145.22c-46.9 19.8-110.1 146.3-111.8 276.5-34.02-58.1-24.9-122.6-2.9-202.6C55.31 287 4.732 448.4 133.1 486.9H346s-6.3-21.5-14.1-28.9c-12.7-12-48.2-20.2-48.2-20.2 27.8-39.2 33.5-71.7 38.6-103.9 4.5 59.8 40.7 126.8 57.4 153h76.5s4.6-15.9.2-21.5c-10.9-13.8-51.3-11.9-51.3-11.9-31.1-107.2-46.3-260.2-90-273.2-21.7-6.5-54.3-14.1-77.8-18.9z',
        'egg_encounter': 'M191.75 36c-.61 0-1.205.03-1.813.063-19.428 1.067-38.773 19.964-52.562 50-6.317 13.76-11.322 29.556-14.72 46.156 17.484 7.632 32.42 23.69 44.314 43.624.655-1.813 1.332-3.606 2.03-5.375 13.44-34.055 35.15-61.243 65.094-64.532 1.87-.206 3.745-.3 5.594-.313 7.764-.057 15.32 1.54 22.593 4.5-4.258-10.827-9.193-21.016-14.655-30.125-16.466-27.458-36.948-43.967-55.875-44zm134.406 8.53c-1.23-.007-2.447.06-3.656.19-18.168 1.93-35.45 19.565-47.625 47.124 5 10.974 9.278 22.676 12.75 34.75 8.72 7.852 16.788 17.48 24.03 28.187 10.013 14.803 18.648 31.955 25.376 50.25 2.528-4.694 5.17-9.243 7.94-13.593 16.88-26.52 38.59-47.037 63.186-51.718-6.524-19.918-15.44-38.63-25.78-54.032-17.27-25.726-37.78-41.04-56.22-41.157zm-86.344 79.814c-1.23-.004-2.447.054-3.656.187-19.34 2.126-37.618 22.04-49.75 52.782-3.89 9.86-7.104 20.677-9.53 32.032 29.68.523 53.856 24.966 70.75 57 4.535 8.602 8.58 17.865 12.093 27.562 3.923-7.238 8.14-14.132 12.624-20.562 14.788-21.204 32.794-38.133 52.625-44.938-6.728-23.306-16.828-45.436-28.814-63.156-17.36-25.664-37.906-40.857-56.344-40.906zm-139.78 21.75c-13.674 0-27.782 8.808-40.313 24.187l25.655 14.845 5.72 3.28-1.19 6.47-4.155 22.875 11.094 10.594-12.875 13.53-14.782-14.06-3.626-3.5.907-4.94L70.343 198 49.03 185.687c-1.436 2.404-2.854 4.883-4.218 7.47-15.416 29.233-25.218 68.456-25.218 105.155 0 36.32 23.966 65.417 57.312 74.72 1.153-37.705 11.2-76.254 27.25-106.688 13.374-25.36 31.34-45.97 52.97-53.72.685-3.718 1.438-7.396 2.28-11.03-1.338-2.893-2.717-5.71-4.156-8.438-15.416-29.233-35.76-47.062-55.22-47.062zm318 11.344c-19.202.582-40.093 16.975-57.313 44.03-4.662 7.324-9.003 15.338-12.94 23.845.935.067 1.88.165 2.814.28 29.895 3.718 51.205 31.196 64.156 65.438 11.4 30.14 16.72 66.696 14.47 102.064 33.922-8.08 60.06-36.513 62.936-71.72 3.093-37.845-3.716-79.103-17.156-110.562-13.44-31.458-32.94-51.63-53.156-53.28-1.264-.104-2.533-.133-3.813-.095zM175.905 228.03c-19.458 0-39.802 17.8-55.22 47.032-15.415 29.234-25.217 68.49-25.217 105.188 0 44.28 35.612 77.875 80.436 77.875 24.69 0 46.663-10.8 61.375-27.656-5.878-14.5-8.246-30.682-6.155-47.5 2.715-21.84 8.586-43.758 16.813-64.064-4.268-15.86-9.988-30.842-16.844-43.844-15.417-29.233-35.73-47.03-55.188-47.03zm168.72 15.876c-1.23-.015-2.47.038-3.72.156-17.48 1.666-36.676 16.25-53.22 39.97-18.904 27.107-33.47 64.832-37.998 101.25-5.464 43.944 25.704 81.687 70.187 87.218 44.293 5.508 84.182-25.098 89.438-67.375 4.527-36.418-.34-76.556-12.032-107.47-.635-1.682-1.294-3.317-1.967-4.936l-30.094 24.342 7.092 7.594-13.656 12.75L344.72 322.5l-6.845-7.344 7.813-6.312 41.093-33.28c-10.798-18.223-24.287-29.64-38.5-31.408-1.206-.15-2.425-.234-3.655-.25z',
        'escort': 'M367.35 80.512a208 208 0 0 0-222.64.074l54.33 69.853a120 120 0 0 1 113.893.035l54.416-69.963zm64.064 64.197l-69.853 54.33a120 120 0 0 1-.035 113.893l69.963 54.416a208 208 0 0 0-.074-222.64zm-280.94 54.357L80.513 144.65a208 208 0 0 0 .074 222.64l69.853-54.33a120 120 0 0 1 .035-113.893zM312.962 361.56a120 120 0 0 1-113.893-.035l-54.416 69.963a208 208 0 0 0 222.64-.074l-54.33-69.853z',
        'fame_seeker': 'M256.1 19.16c-48.8 0-93.2 25.72-125.9 68.45C97.47 130.3 76.87 189.9 76.87 256c0 66 20.6 125.6 53.33 168.4 32.7 42.7 77.1 68.4 125.9 68.4 48.7 0 93.1-25.7 125.8-68.4 32.7-42.8 53.2-102.4 53.2-168.4 0-66.1-20.5-125.7-53.2-168.39-32.8-42.73-77.1-68.45-125.8-68.45zM149.6 162.2l36 42.7L240 192l-29.5 47.4 29.1 47.7-54.3-13.4-36.3 42.4-4.1-55.7-51.51-21.5 51.71-21 4.5-55.7zm212.7 0l4.5 55.7 51.8 21-51.6 21.5-4 55.7-36.4-42.4-54.2 13.4 29.1-47.7L272 192l54.3 12.9 36-42.7zm-104.8 187c34.5 0 69 7.5 99.3 22.5l6.5 3.2-1.5 7.1s-3.8 17.9-18.8 35.1c-15 17.2-42 34.1-85.5 34.1s-70.4-16.9-85.4-34.1C157 399.9 153.3 382 153.3 382l-1.5-7.1 6.5-3.2c2.8-1.4 5.6-2.6 8.5-3.9v-.4h.8c27.9-12.1 58.9-18.2 89.9-18.2zM185 403.4c.3.5.7 1 1.1 1.4 12 13.7 32.6 27.7 71.4 27.7 38.9 0 59.5-14 71.4-27.7.4-.4.7-.9 1.2-1.4H185z',
        'grave_robber': 'M416.62 213.555l-282.14-28.67 6.78-66.7 282.14 28.67zM79.38 492.185h353.24s-72.39-55.05-177-55.05c-52.38 0-112.77 13.76-176.24 55.05zm205.27-69.68l20.16-204.23-66.66-6.77-20.92 212a313.48 313.48 0 0 1 38.35-2.36c9.99-.01 19.69.48 29.07 1.36zm39.1-396.11l-66.68-6.58-9.2 93.17 66.66 6.77z',
        'hideouts': 'M92.406 13.02l-.164 156.353c3.064.507 6.208 1.38 9.39 2.627 36.496 14.306 74.214 22.435 111.864 25.473l43.402-60.416 42.317 58.906c36.808-4.127 72.566-12.502 105.967-24.09 3.754-1.302 7.368-2.18 10.818-2.6l1.523-156.252-75.82 95.552-34.084-95.55-53.724 103.74-53.722-103.74-35.442 95.55-72.32-95.55h-.006zm164.492 156.07l-28.636 39.86 28.634 39.86 28.637-39.86-28.635-39.86zM86.762 187.55c-2.173-.08-3.84.274-5.012.762-2.345.977-3.173 2.19-3.496 4.196-.645 4.01 2.825 14.35 23.03 21.36 41.7 14.468 84.262 23.748 126.778 26.833l-17.75-24.704c-38.773-3.285-77.69-11.775-115.5-26.596-3.197-1.253-5.877-1.77-8.05-1.85zm333.275.19c-2.156.052-5.048.512-8.728 1.79-33.582 11.65-69.487 20.215-106.523 24.646l-19.264 26.818c40.427-2.602 80.433-11.287 119.22-26.96 15.913-6.43 21.46-17.81 21.36-22.362-.052-2.276-.278-2.566-1.753-3.274-.738-.353-2.157-.71-4.313-.658zm-18.117 47.438c-42.5 15.87-86.26 23.856-130.262 25.117l-14.76 20.547-14.878-20.71c-44.985-1.745-89.98-10.23-133.905-24.306-12.78 28.51-18.94 61.14-19.603 93.44 37.52 17.497 62.135 39.817 75.556 64.63C177 417.8 179.282 443.62 174.184 467.98c7.72 5.007 16.126 9.144 24.98 12.432l5.557-47.89 18.563 2.154-5.935 51.156c9.57 2.21 19.443 3.53 29.377 3.982v-54.67h18.69v54.49c9.903-.638 19.705-2.128 29.155-4.484l-5.857-50.474 18.564-2.155 5.436 46.852c8.747-3.422 17.004-7.643 24.506-12.69-5.758-24.413-3.77-49.666 9.01-72.988 13.28-24.234 37.718-46 74.803-64.29-.62-33.526-6.687-66.122-19.113-94.23zm-266.733 47.006c34.602.23 68.407 12.236 101.358 36.867-46.604 33.147-129.794 34.372-108.29-36.755 2.315-.09 4.626-.127 6.933-.11zm242.825 0c2.307-.016 4.617.022 6.93.11 21.506 71.128-61.684 69.903-108.288 36.757 32.95-24.63 66.756-36.637 101.358-36.866zM255.164 332.14c11.77 21.725 19.193 43.452 25.367 65.178h-50.737c4.57-21.726 13.77-43.45 25.37-65.18z',
        'hogtied_lawman': 'M308.53 22.844c-14.72-.147-28.23 9.623-32.217 24.5-3.06 11.418.25 23.036 7.75 31.093l-61.407 60.938-84.156-22.22c2.312-10.624-.677-22.176-8.938-30.436-12.907-12.91-33.842-12.91-46.75 0-12.907 12.906-12.907 33.84 0 46.75 8.48 8.477 20.43 11.377 31.282 8.718l22.062 83.687-61.812 62.313c-8.058-7.5-19.645-10.81-31.063-7.75-17.63 4.724-28.098 22.836-23.374 40.468 4.725 17.632 22.837 28.1 40.47 23.375 11.736-3.144 20.293-12.234 23.312-23.155l84.124 22.906 23 84.47c-10.784 3.093-19.728 11.592-22.843 23.22-4.726 17.63 5.71 35.743 23.343 40.467 17.63 4.725 35.775-5.71 40.5-23.343 3.096-11.556-.338-23.34-8.032-31.406l62.22-61.75 84.22 22.218c-2.797 10.937.063 23.033 8.624 31.594 12.907 12.907 33.842 12.907 46.75 0 12.907-12.907 12.907-33.843 0-46.75-8.342-8.342-20.04-11.284-30.75-8.844l-22.344-84.72 60.844-61.31c8.068 7.714 19.835 11.13 31.406 8.03 17.632-4.724 28.1-22.837 23.375-40.47-4.725-17.63-22.837-28.098-40.47-23.374-11.247 3.015-19.574 11.5-22.905 21.813l-83.906-22.844-22.78-83.593c10.447-3.265 19.05-11.643 22.092-23 4.725-17.63-5.743-35.744-23.375-40.468-2.754-.74-5.523-1.1-8.25-1.126zM234.814 152.78c-24.536 11.362-44.05 33.124-51.594 61.282-13.5 50.382 16.4 102.157 66.78 115.657 38.656 10.357 78.18-4.8 100.563-35.19-19.542 47.778-72.017 74.68-123.188 60.97-55.507-14.873-88.467-71.93-73.594-127.438 10.673-39.826 43.08-68.017 81.032-75.28z',
        'hostile_conversation': 'M18 18v29.75l36.09 31.578c13.506-3.722 27.044-6.596 40.193-8.146L47.75 18zm89.25 0l34.172 54.676c19.488 4.303 38.114 12.753 55.457 25.668L166.75 18zm120.656 0l28.092 129.424S278.068 45.746 284.092 18zm117.344 0l-30.13 80.344c17.344-12.915 35.97-21.365 55.458-25.668L404.75 18zm119 0l-46.533 53.182c13.15 1.55 26.687 4.424 40.193 8.146L494 47.75V18zM118.736 88.04c-1.488-.026-2.997-.025-4.525.003-28.57.524-63.666 10.44-96.21 22.7v143.114c2.86-7.516 7.632-14.432 13.44-20.22 7.7-7.675 17.647-13.693 28.706-14.117.79-.03 1.586-.032 2.387-.004.8.028 1.607.086 2.418.175 7.908.875 13.682 5.74 18.136 10.994 4.454 5.252 7.902 11.385 10.74 17.312 5.676 11.853 8.844 23.21 8.844 23.21l-17.326 4.878s-2.89-10.16-7.754-20.315c-2.432-5.078-5.373-10.072-8.233-13.444-2.86-3.372-5.325-4.627-6.382-4.744-5.24-.58-12.662 2.66-18.83 8.805-6.165 6.145-10.49 14.778-10.98 20.923-1.776 22.332 7.533 36.257 18.413 45.745 5.44 4.743 11.306 8.183 16.06 10.357 2.375 1.087 4.48 1.858 6.012 2.32 1.534.462 2.868.52 1.875.512l-.146 18c-2.76-.022-4.48-.542-6.92-1.277-2.44-.736-5.233-1.78-8.308-3.186-6.148-2.81-13.41-7.06-20.402-13.16-8.955-7.808-17.41-18.972-21.75-33.386V427.39c24.102 26.71 51.126 51.064 81.078 61.965 12.463 4.536 28.87 3.676 40.942-2.03.215-.717.515-2.225.86-4.427.74-4.75 2.008-13.206 9.718-18.332 6.447-4.286 12.678-4.82 15.756-5.78-3.493-7.43-10.868-26.54-6.184-48.735 3.417-16.19 15.896-29.056 30.18-35.605 7.14-3.274 14.995-4.98 22.87-3.648 3.937.667 7.822 2.23 11.307 4.615 3.25-4.3 6.502-8.302 8.506-11.1l3.62-5.054 4.005 1.594c4.42 1.172 6.194 1.58 6.215 1.703.18-.15.412-.382.828-.793.182-.354 2.685-9.4.513-20.692-2.187-11.373-5.665-25.125-15.215-37.41-5.235.462-10.274.937-14.357 1.643-5.597.966-9.288 2.814-9.607 3.125l-12.566-12.887c3.454-3.367 7.37-5.176 11.527-6.354-5.143-1.766-10.087-2.734-15.598-2.49l-.792-17.983c15.547-.686 27.433 5.062 39.65 10.902-7.522-7.768-13.75-15.06-19.606-20.476-7.838-7.25-14.08-10.976-23.085-10.95-1.806.007-4.95 2.097-9.334 6.88-4.386 4.784-8.75 11.637-17.673 14.957l-6.278-16.87c1.232-.46 5.672-4.788 10.68-10.25 5.006-5.463 11.842-12.683 22.548-12.716 14.558-.043 26.002 7.077 35.36 15.732 5.22 4.825 10.085 10.18 15.134 15.62 5.293-23.545 9.614-46.54 8.076-69.415-31.038-64.935-71.1-95.532-115.53-103.06-4.063-.613-8.346-.945-12.812-1.026zm274.528 0c-4.466.082-8.75.414-12.813 1.026-44.428 7.53-84.49 38.126-115.528 103.06-1.538 22.876 2.783 45.87 8.076 69.417 5.05-5.44 9.915-10.796 15.133-15.62 9.36-8.656 20.804-15.776 35.362-15.732 10.706.034 17.542 7.254 22.55 12.716 5.006 5.463 9.446 9.79 10.68 10.25l-6.28 16.87c-8.92-3.32-13.286-10.172-17.67-14.956-4.385-4.783-7.53-6.873-9.334-6.88-9.006-.026-15.248 3.7-23.086 10.95-5.856 5.414-12.084 12.707-19.606 20.475 12.217-5.84 24.103-11.588 39.65-10.902l-.792 17.982c-5.51-.243-10.455.725-15.598 2.49 4.157 1.18 8.073 2.988 11.527 6.356l-12.566 12.888c-.32-.31-4.01-2.158-9.608-3.125-4.084-.705-9.123-1.18-14.358-1.643-9.55 12.285-13.028 26.037-15.215 37.41-2.172 11.293.33 20.338.512 20.692.415.41.646.642.827.793.02-.122 1.794-.53 6.215-1.703l4.006-1.594 3.62 5.053c2.003 2.8 5.255 6.802 8.505 11.102 3.485-2.384 7.37-3.948 11.308-4.615 7.875-1.333 15.73.374 22.87 3.648 14.284 6.55 26.763 19.415 30.18 35.606 4.684 22.195-2.69 41.306-6.184 48.735 3.078.96 9.31 1.495 15.756 5.78 7.71 5.127 8.978 13.582 9.72 18.333.343 2.202.643 3.71.858 4.428 12.073 5.705 28.48 6.565 40.942 2.03 29.952-10.902 56.976-35.257 81.078-61.965V293.235c-4.34 14.414-12.795 25.578-21.75 33.387-6.993 6.1-14.254 10.35-20.402 13.16-3.075 1.407-5.867 2.45-8.307 3.187-2.44.735-4.16 1.255-6.92 1.277l-.145-18c-.993.008.34-.05 1.875-.512 1.533-.462 3.637-1.233 6.013-2.32 4.753-2.174 10.62-5.613 16.06-10.357 10.88-9.488 20.188-23.413 18.41-45.744-.488-6.145-4.813-14.778-10.98-20.923-6.166-6.146-13.59-9.384-18.828-8.805-1.057.117-3.523 1.372-6.382 4.744-2.86 3.372-5.8 8.366-8.233 13.444-4.863 10.155-7.754 20.314-7.754 20.314l-17.326-4.88s3.168-11.355 8.844-23.208c2.838-5.927 6.286-12.06 10.74-17.312 4.454-5.253 10.228-10.12 18.135-10.993.81-.088 1.616-.146 2.417-.174.8-.03 1.597-.027 2.387.004 11.06.424 21.006 6.443 28.707 14.117 5.808 5.788 10.58 12.705 13.44 20.22V110.743c-32.544-12.26-67.64-22.175-96.21-22.7-1.53-.027-3.038-.028-4.526 0zM207.568 388.366c-2.844.06-6.23.844-9.716 2.442-.61.28-1.218.587-1.823.914l15.636 9.07s2.62-4.082 5.238-8.237c-1.925-2.575-3.95-3.546-6.69-4.01-.81-.137-1.698-.198-2.646-.178zm96.864 0c-.948-.02-1.836.04-2.647.178-2.738.464-4.764 1.435-6.69 4.01 2.62 4.155 5.24 8.238 5.24 8.238l15.636-9.07c-.604-.326-1.212-.634-1.822-.913-3.485-1.598-6.872-2.382-9.716-2.442zM176.795 427.13c.727 14.314 6.52 25.452 6.945 26.253 4.71-1.988 8.2-3.552 8.26-3.867.104-.54-7.425-11.492-15.205-22.387zm158.41 0c-7.78 10.894-15.31 21.847-15.205 22.386.06.315 3.55 1.88 8.26 3.867.425-.8 6.218-11.94 6.945-26.254zM18 454.503V494h49.19C49.272 483.442 32.927 469.57 18 454.504zm476 0c-14.928 15.066-31.273 28.938-49.19 39.496H494z',
        'moonshiner_camp': 'M256 41c-43.696 0-83.28 3.58-111.37 9.197-14.047 2.81-25.26 6.196-32.21 9.483-3.476 1.643-5.842 3.293-6.88 4.306l-.013.014.014.014c1.038 1.013 3.404 2.663 6.88 4.306 6.95 3.287 18.163 6.674 32.21 9.483C172.72 83.42 212.303 87 256 87s83.28-3.58 111.37-9.197c14.047-2.81 25.26-6.196 32.21-9.483 3.476-1.643 5.842-3.293 6.88-4.306l.013-.014-.014-.014c-1.038-1.013-3.404-2.663-6.88-4.306-6.95-3.287-18.163-6.674-32.21-9.483C339.28 44.58 299.697 41 256 41zm-80 15a32 8 0 0 1 32 8 32 8 0 0 1-32 8 32 8 0 0 1-32-8 32 8 0 0 1 32-8zm-75.168 26.594c-2.832 12.035-7.414 32.162-12.05 55.28 16.735 4.338 33.52 7.99 50.327 10.995 2.988-17.203 6.707-34.438 11.27-51.708-3.186-.547-6.3-1.113-9.282-1.71-14.91-2.98-27.13-6.49-36.37-10.86-1.363-.644-2.656-1.307-3.896-1.998zm310.336 0c-1.24.69-2.533 1.354-3.895 1.998-9.24 4.37-21.462 7.88-36.37 10.86-2.93.587-5.99 1.142-9.116 1.68 5.27 16.954 9.544 34.033 12.953 51.22 16.26-2.983 32.412-6.568 48.424-10.754-4.617-23-9.175-43.017-11.996-55.004zm-67.4 17.238c-23.065 2.982-49.9 4.803-78.768 5.117v54.198c30.885-.445 61.603-3.05 91.975-7.773-3.45-17.334-7.805-34.523-13.207-51.543zm-175.475.008c-4.647 17.345-8.416 34.67-11.426 51.98 30.062 4.54 60.16 6.967 90.133 7.354V104.95c-28.842-.314-55.656-2.133-78.707-5.11zm-84.38 55.277l-5.518 30.088c128.542 30.936 239.89 29.948 353.384.137l-4.98-30.172c-110.776 28.798-228.035 29.785-342.886-.053zm350.634 48.176c-16.95 4.406-33.876 8.174-50.83 11.312 3.656 47.603 1.776 95.87-3.55 144.49 18.6-3.803 36.796-8.527 54.468-14.17C439.592 314.762 439 291.606 439 256c0-14.915-1.77-33.334-4.453-52.707zm-357.13.256C74.758 222.827 73 241.15 73 256c0 23.794 4.678 57.228 10.424 89.404 16.604 4.828 33.386 8.97 50.27 12.418-4.532-47.516-6.03-95.247-2.577-143.222-17.624-3.063-35.507-6.74-53.7-11.05zm71.546 13.944c-3.336 47.978-1.63 95.883 3.164 143.813 31.553 5.49 63.348 8.592 94.873 9.33V225.94c-31.995-.576-64.57-3.38-98.037-8.446zm216.902.19c-33.303 5.275-66.792 8.068-100.865 8.34V370.8c32.816-.174 65.224-2.93 96.64-8.25 5.61-49.032 7.722-97.417 4.225-144.866zM86.66 364.93l8.29 31.9c104.15 32.39 225.75 32.428 326.077.733l8.272-32.264c-106.024 31.367-228.01 31.34-342.64-.37zm11.236 51.666c3.816 16.945 6.585 28.183 6.704 28.662.792 2.185 4.694 6.427 12.96 10.37 7.587 3.616 18.215 6.947 30.77 9.704-2.132-12.566-4.142-25.147-6.016-37.74-15.03-3.066-29.865-6.733-44.418-10.996zm318.366 1.31c-14.934 4.36-30.254 8.052-45.852 11.086-2.007 12.08-4.16 24.172-6.43 36.272 12.422-2.745 22.935-6.05 30.46-9.637 8.376-3.994 12.302-8.315 13.02-10.473 3.26-9.78 6.178-18.815 8.802-27.248zm-255.217 13.18c1.917 12.574 3.97 25.154 6.144 37.74 23.637 3.684 51.525 5.748 79.81 6.11V439.24c-28.815-.644-57.66-3.36-85.955-8.154zm190.55 1.223c-28.306 4.484-57.373 6.847-86.595 7.07v35.556c28.358-.363 56.317-2.437 79.994-6.14 2.33-12.19 4.538-24.353 6.602-36.487z',
        'people_in_need': 'M129.785 50.53l-18.34 3.59 11.502 58.716c-2.942.398-5.865 1.092-8.738 2.092L81.245 58.336l-16.148 9.406 32.798 56.313c-1.93 1.522-3.793 3.18-5.587 4.95l-47.675-45.73L31.7 96.762l49.007 47.01c-1.355 2.25-2.6 4.584-3.734 6.988L29.01 123.87l-9.14 16.304 67.148 37.642c7.432 5.644 15.256 9.8 23.113 11.596l105.597 86.397 20.11 86.356 14.804 88.023h18.903l10.973-87.077 20.564-88.302 103.635-84.792c8.947-1.286 17.92-5.78 26.38-12.206l67.14-37.638-9.137-16.303-47.965 26.89c-1.135-2.404-2.38-4.738-3.735-6.987l49.01-47.01-12.937-13.488-47.673 45.73c-1.795-1.77-3.658-3.427-5.588-4.95l32.798-56.313-16.15-9.406-32.962 56.594c-2.872-1-5.794-1.696-8.736-2.094l11.502-58.715-18.342-3.59-14.172 72.353c-2.132 2.757-4.35 5.304-6.79 7.547l-18.85-35.73-16.53 8.72 22.436 42.527c3.555 9.423 7.447 17.122 11.592 23.307l-68.668 85.63c-1.106 1.866-2.284 3.67-3.553 5.38-8.562 11.545-21.266 19.51-35.67 19.51-14.403 0-27.106-7.965-35.668-19.51-.318-.43-.62-.874-.927-1.313h-.01l-70.574-88.007c4.583-6.456 8.876-14.704 12.763-25.01l22.427-42.513-16.53-8.72-18.85 35.73c-2.438-2.242-4.656-4.788-6.788-7.545L129.784 50.53zm128.33 121.837c-7.593 0-14.802 4.06-20.654 11.95-5.85 7.89-9.825 19.448-9.825 32.406 0 12.957 3.974 24.516 9.826 32.408 5.853 7.892 13.062 11.952 20.655 11.952 7.593 0 14.804-4.06 20.656-11.95 5.854-7.893 9.828-19.452 9.828-32.41 0-12.957-3.974-24.515-9.827-32.406-5.85-7.89-13.06-11.95-20.655-11.95zm-52.912 257.06c-14.898 6.732-24.53 16.38-24.53 26.862 0 20.435 35.37 36.794 78.845 36.794 43.473 0 78.84-16.36 78.84-36.795 0-10.592-9.353-20.118-24.526-26.862 4.54 4.033 7.59 8.548 7.59 13.43 0 15.976-27.917 28.62-61.904 28.62s-61.323-12.644-61.323-28.62c0-4.833 2.55-9.427 7.008-13.43z',
        'plants': 'M256 24c-11.8 0-24.5 10.15-34.6 30.32-7.1 14.37-12.6 33.19-15.1 54.48 4.6 4 9.2 8.2 13.7 12.7 11.4 11.3 21.2 23.3 29.3 35.3 2.2-.1 4.5-.2 6.7-.2 2.4 0 4.8.1 7.2.3 8.1-12.1 17.9-24 29.3-35.4 4.3-4.3 8.8-8.5 13.3-12.3-2.6-21.44-8-40.42-15.2-54.88C280.5 34.15 267.8 24 256 24zM113.2 84.12c-9.2.13-16.33 2.76-20.99 7.44-8.32 8.32-10.16 24.44-3 45.84 7.15 21.4 22.89 46.5 45.59 69.2 8.3 8.3 17 15.7 25.6 22.1 9.5-33.2 35.9-59.3 69.2-68.5-6.4-8.8-13.9-17.6-22.3-26-22.7-22.7-47.8-38.48-69.2-45.64-9.4-3.13-17.8-4.54-24.9-4.44zm286.1 0c-7.1-.1-15.5 1.33-24.8 4.48-21.4 7.14-46.5 22.9-69.2 45.6-8.5 8.5-16 17.3-22.4 26.1 33.2 9.3 59.4 35.5 68.8 68.7 8.8-6.5 17.6-14 26-22.4 22.7-22.7 38.4-47.8 45.6-69.2 7.2-21.4 5.3-37.49-3-45.83-4.7-4.69-11.8-7.33-21-7.45zM256 174.6c-45.1 0-81.4 36.3-81.4 81.4 0 45.1 36.3 81.4 81.4 81.4 45.1 0 81.4-36.3 81.4-81.4 0-45.1-36.3-81.4-81.4-81.4zm-146.2 31.6c-21.67 2.5-40.87 8-55.48 15.2C34.15 231.5 24 244.2 24 256s10.15 24.5 30.32 34.6c14.48 7.2 33.48 12.6 54.88 15.2 4.1-4.7 8.4-9.4 12.9-13.9 11.2-11.2 22.9-20.9 34.7-28.9-.1-2.3-.2-4.6-.2-7 0-2.6.1-5.2.3-7.7-11.9-8-23.6-17.7-34.8-28.9-4.3-4.3-8.4-8.8-12.3-13.2zm292.8 0c-3.9 4.4-7.9 8.8-12.2 13.1-11.4 11.4-23.3 21.2-35.3 29.3.2 2.4.3 4.9.3 7.4 0 2.2-.1 4.5-.2 6.7 11.9 8 23.8 17.8 35.1 29.1 4.6 4.6 8.9 9.2 12.9 13.9 21.3-2.5 40.1-8 54.5-15.1 20.2-10.1 30.3-22.8 30.3-34.6s-10.1-24.5-30.3-34.6c-14.5-7.2-33.6-12.7-55.1-15.2zm-50.8 76.1c-9.1 33.4-35.3 59.8-68.5 69.3 6.3 8.6 13.6 17.2 21.9 25.4 22.7 22.7 47.8 38.4 69.2 45.6 21.4 7.1 37.5 5.3 45.8-3 8.4-8.3 10.2-24.5 3-45.9-7.1-21.4-22.9-46.5-45.6-69.2-8.4-8.4-17-15.8-25.8-22.2zm-191.6.4c-8.6 6.4-17.1 13.7-25.4 21.9-22.7 22.7-38.43 47.8-45.57 69.2-7.21 21.4-5.37 37.5 2.97 45.9 8.3 8.3 24.5 10.2 45.8 2.9 21.4-7.1 46.5-22.9 69.2-45.6 8.2-8.2 15.5-16.7 21.9-25.3-33.3-9.4-59.5-35.7-68.9-69zm88.6 72.4c-8 11.8-17.6 23.5-28.8 34.7-4.5 4.5-9.1 8.8-13.8 12.8 2.5 21.5 8 40.6 15.2 55.1 10.1 20.2 22.8 30.3 34.6 30.3s24.5-10.1 34.6-30.3c7.2-14.6 12.7-33.8 15.2-55.5-4.5-3.9-9-8.1-13.4-12.5-11.2-11.2-20.8-22.8-28.7-34.6-2.6.2-5.1.3-7.7.3-2.4 0-4.8-.1-7.2-.3z',
        'rival_collector': 'M272.824 24.318c-14.929.312-25.66 3.246-32.767 8.446L142.899 84.91l-54.106 73.514C77.42 175.98 85.518 210 121.112 188.197l38.9-51.351c49.476-42.711 150.484-23.032 102.586 62.591-23.53 49.582-12.457 73.79 17.76 83.95l13.812-46.381c23.95-53.825 68.502-63.51 66.684-106.905l107.303 7.725-.866-112.045zm-54.09 103.338c-17.41-.3-34.485 6.898-46.92 17.375l-39.044 51.33c10.713 8.506 21.413 3.959 32.125-6.363 12.626 6.394 22.365-3.522 30.365-23.297 3.317-13.489 8.21-23.037 23.475-39.045zm-32.617 88.324a13.49 13.49 0 0 0-5.232 1.235l-129.164 59.51c-6.784 3.13-9.763 11.202-6.633 17.992l85.27 185.08c3.132 6.783 11.205 9.779 18 6.635l129.15-59.504c6.796-3.137 9.777-11.198 6.647-18L198.87 223.86c-2.343-5.097-7.473-8.043-12.754-7.88zm-29.767 50.06c7.794.113 14.913 2.053 21.092 5.847 10.758 6.604 18.63 20.93 19.644 35.754.698 10.184-1.712 17.837-12.553 39.873-3.879 7.885-5.634 15.27-5.072 21.355.46 4.973.786 5.855 3.639 9.844l3.135 4.38-1.754.98c-.965.538-7.097 3.1-13.627 5.693-6.918 2.746-12.316 4.496-12.934 4.193-.583-.286-2.352-2.62-3.931-5.188-7.525-12.227-7.225-27.53.878-44.627 6.655-14.04 8.47-19.966 7.952-25.974-.815-9.44-6.743-16.478-14.834-17.617-6.021-.848-10.668.553-18.912 5.703-8.298 5.183-13.941 10.708-19.055 18.656-1.8 2.797-3.407 5.053-3.57 5.014-.164-.04-3.206-7.256-6.758-16.037l-6.46-15.967 3.23-3.666c5.809-6.598 11.758-11.166 22.226-17.065 13.44-7.573 26.273-11.314 37.664-11.15zm33.308 133.048c6.463.125 12.18 3.215 15.7 8.963 4.296 7.015 4.185 13.838-.334 20.752-2.89 4.42-8.953 8.313-15.04 9.654-15.132 3.335-28.038-9.343-23.726-23.307 1.817-5.885 5.325-9.937 11.273-13.02 4.104-2.125 8.25-3.117 12.127-3.042z',
        'runaway_wagon': 'M425.208 118.428c-9.115.04-17.29 2.663-25.45 5.927-9.33 3.732-18.268 8.75-27.847 12.13-6.67 2.356-14.156 3.768-21.694 2.615-22.832 71.052-27.844 149.083-28.654 219.9h68.322c-1.45-5.723-1.952-12.17-1.916-19.543.09-18.73 3.936-43.15 10.523-69.63 12.235-49.176 33.65-104.615 60.876-139.776-11.49-7.335-21.364-10.784-30.19-11.476-1.345-.105-2.666-.152-3.968-.146zM330.95 140.39c-12.268 3.536-23.886 8.28-38.29 10.81-17.517 3.073-38.528 1.747-67.245-9.64V359h78.14c.756-69.366 5.42-146.51 27.395-218.61zm-123.535 4.823c-17.95 11.885-33.58 18.606-50.568 18.578-16.442-.026-33.08-6.19-53.598-17.17 18.834 69.4 24.842 144.742 25.946 212.38h78.22V145.213zM84.7 147.055c-11.136 11.845-23.253 18.937-35.195 22.353-9.05 2.59-17.778 3.007-25.92 2.363 12.242 29.09 21.534 63.203 25.182 96.45 3.63 33.078 1.834 65.296-9.413 90.78h71.834c-1.15-68.14-7.4-143.78-26.488-211.945zM408.823 309c-.05.322-.105.65-.154.97l-2.667 27.608c-.014.66-.032 1.328-.035 1.965-.04 8.135.928 14.47 2.107 17.578.41 1.086.744 1.595.953 1.88h40.387v16h18v-34h-44v-32h-14.592zM33.415 377v46H47.99c2.265-18.264 11.31-34.465 24.538-46H33.415zm134.887 0c13.227 11.535 22.273 27.736 24.537 46h47.15c2.265-18.264 11.31-34.465 24.538-46h-96.226zm192 0c13.227 11.535 22.273 27.736 24.537 46h46.575v-14h57v-18h-57v-14h-71.113zm-248.887.738c-8.502 1.388-16.332 4.71-23.033 9.502l23.033 23.033v-32.535zm18 0v32.535l23.033-23.033c-6.7-4.793-14.53-8.114-23.033-9.502zm174 0c-8.502 1.388-16.332 4.71-23.033 9.502l23.033 23.033v-32.535zm18 0v32.535l23.033-23.033c-6.7-4.793-14.53-8.114-23.033-9.502zm-245.76 22.23c-4.793 6.7-8.114 14.53-9.502 23.032h32.535l-23.033-23.033zm89.52 0L142.142 423h32.535c-1.388-8.502-4.71-16.332-9.502-23.033zm102.48 0c-4.793 6.7-8.114 14.53-9.502 23.032h32.535l-23.033-23.033zm89.52 0L334.142 423h32.535c-1.388-8.502-4.71-16.332-9.502-23.033zM66.153 441c1.388 8.502 4.71 16.332 9.502 23.033L98.688 441H66.153zm75.99 0l23.032 23.033c4.793-6.7 8.114-14.53 9.502-23.033h-32.535zm116.01 0c1.388 8.502 4.71 16.332 9.502 23.033L290.688 441h-32.535zm75.99 0l23.032 23.033c4.793-6.7 8.114-14.53 9.502-23.033h-32.535zm-222.728 12.727L88.382 476.76c6.7 4.793 14.53 8.114 23.033 9.502v-32.535zm18 0v32.535c8.502-1.388 16.332-4.71 23.033-9.502l-23.033-23.033zm174 0l-23.033 23.033c6.7 4.793 14.53 8.114 23.033 9.502v-32.535zm18 0v32.535c8.502-1.388 16.332-4.71 23.033-9.502l-23.033-23.033z',
        'trains': 'M18 18v31.758C38.244 53.855 59.076 55.953 80 56a317.745 317.745 0 0 0 50.658-4.27C143.375 100.622 200.964 135.96 268 136c15.1-.044 30.093-1.903 44.395-5.504 3.702 25.632 27.322 44.78 55.275 44.813.475-.01.95-.027 1.424-.048 4.215 14.473 20.33 24.72 38.906 24.738 22.09 0 40-14.327 40-32-.022-13.555-10.718-25.63-26.697-30.137a48.067 48.067 0 0 0 2.203-14.21c-.02-19.245-11.602-36.886-30.057-45.772C402.962 63.617 407.94 47.92 408 32c-.033-7.4-1.128-6.774-3.268-14zm-2 205v18h23v48H25v94h142v-94h-14v-48h23v-18zm360 0v18h17v46h46v-46h17v-18zM57 241h14v48H57zm32 0h46v48H89zm231 20c-7.25 0-14.577 1.013-19.154 2.54-2.077.69-3.287 1.444-3.846 1.855V287h46v-21.605c-.56-.41-1.77-1.164-3.846-1.856C334.577 262.012 327.25 261 320 261zm-135 44v30h247v18H185v30h279c36 0 36-78 0-78zM25 401v37.22L75.67 401zm416 0v78h53.906c-4.965-9.187-9.113-19.953-12.734-31.557-4.94-15.833-8.498-32.39-10.227-46.443zm-289 1.49c-10.72 0-20.57 3.55-28.455 9.533L164.325 463h32.714a47.358 47.358 0 0 0 1.96-13.51c0-26.064-20.936-47-47-47zm112 0c-8.46 0-16.374 2.217-23.213 6.088L284.327 463h24.712a47.358 47.358 0 0 0 1.96-13.51c0-26.064-20.936-47-47-47zm112 0c-8.46 0-16.374 2.217-23.213 6.088L396.327 463c1.68 2.254 1.69 1.93 1.673 4.2V481h-56.945c8.586 9.524 21.034 15.49 34.945 15.49 26.064 0 47-20.936 47-47s-20.936-47-47-47zm-278.994 5.174L43.456 447H87.06c.512-13.423 5.137-25.816 12.633-35.975zm130.105 12.633C220.78 428.302 217 438.43 217 449.49c0 4.703.69 9.234 1.96 13.51h42.313zm112 0C332.78 428.302 329 438.43 329 449.49c0 4.703.69 9.234 1.96 13.51h42.313zm-227.684 5.392c-4.08 6.97-6.426 15.096-6.426 23.8 0 26.064 20.936 47 47 47 13.91 0 26.36-5.966 34.945-15.49h-31.27zM25.023 465c.522 16.756 14.085 30 30.977 30s30.455-13.244 30.977-30zm204.032 16c8.586 9.524 21.034 15.49 34.945 15.49 13.91 0 26.36-5.966 34.945-15.49z',
        'treasure_hunter': 'M84.438 20.78c-.414.005-.824.01-1.25.032-2.273.113-4.742.477-7.376 1.094C65.28 24.373 52.858 31.236 42.094 42 31.33 52.763 24.467 65.186 22 75.72c-2.467 10.532-.738 18.23 3.75 22.718 3.93 3.93 10.33 5.763 18.938 4.5-1.82-5.496-1.757-11.592-.407-17.282 2.182-9.194 7.5-18.247 15.314-26.062 7.814-7.816 16.836-13.13 26.03-15.313 2.3-.544 4.695-.876 7.064-.968 3.515-.135 7.022.307 10.312 1.407 1.3-8.664-.52-15.082-4.47-19.032-3.154-3.156-7.896-4.97-14.093-4.907zm9.937 41.126c-.332-.006-.694.01-1.063.032-.98.06-2.08.23-3.343.53-5.057 1.2-11.542 4.728-17.157 10.344-5.616 5.617-9.145 12.1-10.344 17.157-1.2 5.054-.25 7.718 1.03 9l.344.343.312.406 41.344 51.25c4.423-9.226 10.846-18.254 19.03-26.44 8.186-8.183 17.214-14.607 26.44-19.03L99.72 64.156l-.407-.312-.344-.344c-.84-.84-2.273-1.552-4.595-1.594zm85.22 55.344c-.762-.02-1.564-.012-2.376.03-2.168.115-4.54.465-7.064 1.064-10.095 2.394-22.042 9.042-32.406 19.406-10.364 10.364-17.012 22.31-19.406 32.406-2.394 10.095-.727 17.367 3.5 21.594l.344.375.312.375 3.75 4.625c.046-.207.076-.418.125-.625 3.576-15.268 12.593-30.935 26.125-44.47 13.467-13.468 29.05-22.452 44.25-26.06l-4.25-3.44-.375-.343-.375-.343c-2.774-2.775-6.828-4.448-12.156-4.594zm31.186 25.656c-2.895-.01-6.086.374-9.56 1.188-11.122 2.604-24.185 9.838-35.5 21.156-11.318 11.318-18.552 24.378-21.157 35.5-2.117 9.036-1.316 16.178 1.656 21.125l.093.156 48.375 59.94c6.217-18.252 17.894-36.74 34.218-53.064 16.332-16.33 34.835-28.003 53.094-34.22L219.75 144.5c-2.557-1.017-5.562-1.583-8.97-1.594zm99.25 65.344c-.697.007-1.41.027-2.124.063-3.814.188-7.85.798-12.125 1.812-17.098 4.056-36.72 15.005-53.686 31.97-16.965 16.963-27.913 36.586-31.97 53.686-4.055 17.102-1.384 30.74 6.94 39.064l.342.344.313.406.31.406c.4-3.643 1.045-7.318 1.907-11 5.25-22.406 18.652-45.87 38.907-66.125 20.255-20.255 43.718-33.658 66.125-38.906 3.702-.87 7.4-1.513 11.06-1.907l-.436-.344-.406-.314-.344-.344c-5.853-5.852-14.346-8.918-24.813-8.812zm35.22 27.97c-4.95-.034-10.325.6-16.03 1.936-18.262 4.278-39.118 15.898-57.158 33.938-18.04 18.04-29.66 38.896-33.937 57.156-3.19 13.618-2.38 25.28 1.97 34.063l55.874 69.28c.46-3.185 1.058-6.378 1.81-9.593 6.32-26.98 22.565-55.408 47.126-79.97 24.56-24.56 52.96-40.773 79.938-47.092 2.055-.482 4.108-.89 6.156-1.25l-67.53-54.5h-.033c-5.132-2.575-11.256-3.924-18.187-3.97zm103.094 75.5c-.947.005-1.907.017-2.875.06-5.166.236-10.637 1.008-16.345 2.345-22.832 5.348-48.686 19.78-71.03 42.125-22.347 22.345-36.778 48.2-42.126 71.03-5.35 22.833-1.77 41.703 9.905 53.376 7.86 7.862 18.996 12.047 32.406 12.313-.68-.603-1.347-1.225-2-1.876-13.45-13.452-16.224-33.735-11.5-53.906 4.726-20.172 16.757-41.163 34.908-59.313 18.15-18.15 39.172-30.213 59.343-34.938 5.044-1.18 10.086-1.898 15.033-2.093 14.84-.586 28.754 3.505 38.843 13.594.673.672 1.318 1.356 1.938 2.062-.245-13.438-4.44-24.595-12.313-32.47-8.207-8.207-19.98-12.4-34.186-12.31zm8.28 47.717c-.65.005-1.3.032-1.968.063-3.564.167-7.37.687-11.375 1.625-16.024 3.754-34.44 14.003-50.374 29.938-7.822 7.822-14.263 16.238-19.25 24.687 1.697-2.026 3.503-4.003 5.438-5.938 17.012-17.01 38.125-24.96 53.22-21.5-5.877 2.765-11.803 6.865-17.158 12.22-16.19 16.19-21.17 37.454-11.125 47.5 7.735 7.733 22.152 6.587 35.75-1.75-3.07 4.568-6.748 9.03-10.967 13.25-18.512 18.51-41.876 26.32-57.063 20.343 7.814 6.11 19.617 7.906 34.156 4.5 16.025-3.754 34.44-14.003 50.375-29.938 15.936-15.934 26.185-34.35 29.94-50.375 3.752-16.024 1.195-28.71-6.5-36.406-5.413-5.41-13.32-8.293-23.095-8.22z',
        'tree_map': 'M242.563 27.656c-10.062.033-20.126.205-30.188.5l6.094 65.594-61.095-62.563c-31.256 2.57-62.494 6.655-93.75 12.532l34.25 28.405-48.063-.563c35.158 100.168 6.936 182.575-.312 292l95.75 105.844c10-1.326 19.856-2.423 29.563-3.344l21.53-42.156 18.532 28.844 41.5-33.594.813 43.094c82.943-.242 157.734 9.098 235.687 7.813-28.15-73.01-31.13-143.562-31.875-209.157l-33.25-19.125 32.688-33.874c-.43-21.333-1.342-42.006-3.625-61.937l-57.438.718 50.25-41.657c-3.843-15.477-9.052-30.4-16.125-44.718l-29.53-23.906c-53.8-5.488-107.607-8.924-161.408-8.75zm58.718 36.97l7.095 16.624 24.594 57.625 14.092-19.75 8.344-11.688 7.313 12.376 40.655 69.124-16.125 9.47-33.375-56.688-42.438 59.405-15.187-10.875 24-33.594-21.97-51.406-24.56 40.063 11.967 22.625-16.53 8.75-18.25-34.5-24.845 58.187-17.187-7.344 32.53-76.186 7.69-18.03 9.155 17.31 5.313 10.032 28.25-46.125 9.468-15.405zm-194.842 56.25h.093l.126.03.094.03 4.78 1.126.095.032.125.03 4.53 1.19.126.03.125.03 4.282 1.25.126.032.124.03 4.094 1.314.125.03.126.064.22.062-5.845 16.53-.343 1.095h-.03l-.22-.06-3.562-1.157-.25-.063-3.813-1.125-.25-.063-4.062-1.062-.22-.063-4.343-1-.093-.03-.125-.032 1.155-4.906 2.813-13.345zm37.874 13.374l2.657 1.53.186.095.156.125 2.657 1.656.155.125.188.126 2.437 1.688.188.125.187.155 2.28 1.75.19.125.155.156 2.125 1.78.156.158.19.156 1.936 1.844.188.156.156.188.844.875-13.53 12.875-.47-.5-.375-.344-1.22-1.156-.094-.094-.25-.22L144 156.44l-.156-.125-.188-.157-1.562-1.22-.188-.124-.156-.125-1.78-1.218-.314-.19-.03-.03-2.282-1.438L135 150.47l9.313-16.22zM173 166.625l.25.844.063.25.093.25.5 2.06.063.22.03.25.406 2.063.03.25.064.25.28 2.062.032.22v.25l.188 2.06.03.22v.22l.095 2.06v2.72l-.03.188-.095 2.062v.22l-.03.186-.19 2.064v.156l-.03.188-.156 1.156-18.53-2.406.124-.782.03-.344.126-1.343v-.064l.03-.312.064-1.688v-1.687l-.063-1.19-.125-1.593-.28-2.062-.314-1.563-.375-1.406-.03-.156-.125-.344 17.875-5.53zm-21.25 35.72l17.28 7.06-1.093 2.657-.062.157-.063.155-1.625 3.625-.062.125-.063.125-1.687 3.47-.03.093-.064.093-1.686 3.344-.063.063-.03.062-1.688 3.156-.03.064-.032.062-.313.563-16.343-9.064.25-.437.062-.126 1.53-2.875.095-.157 1.532-2.97.094-.218 1.47-3.03.124-.25 1.406-3.095.125-.313.97-2.343zm-16.47 34.093l17.69 6.03-.157.407-.032.063-1.03 3.5-.906 3.437-.03.22-.064.186-.656 3.314-.438 2.687-.03.22-.032.25-.188 1.906-18.594-2 .282-2.375v-.25l.03-.218.595-3.593.03-.22.03-.188.782-3.718.032-.22.062-.186.97-3.844.03-.188.063-.187 1.186-3.94.063-.186.06-.188.25-.72zm207.845 17.375l.875.093h.22l.186.03 1.906.25.22.033.187.03 1.874.344.187.03.22.032 1.813.406.218.063.19.063 1.78.468.22.063.186.06 1.72.564.218.062.22.063 1.655.624.217.094.188.093 1.625.69.22.092.186.094 1.594.75.188.125.218.095 1.53.844.19.092.187.125 1.218.75-9.75 15.938-1.124-.688-.094-.062-.75-.406-.406-.19-.75-.405-.187-.063-.22-.125-1.25-.5-.844-.312-1.28-.438-.282-.062-.156-.063-.938-.25-.344-.062-.062-.03-1-.22-1.47-.28-.218-.033-.187-.03-1.44-.188h-.06l-.5-.033 1.655-18.625zm-21.22 1.5l2.376 11.875 1.47 6.437-.188.03-2 .44-.156.03-.094.03-2 .533-.218.062-2.094.594-.22.062-2.155.688-.22.062-2.217.75-.22.094-2.312.844-.187.062-2.158.844-6.812-17.406 2.344-.906.094-.063.125-.03 2.687-.97.094-.063.125-.03 2.624-.876.125-.062.092-.03 2.594-.814.125-.03.095-.033 2.563-.718.093-.033.126-.03 2.5-.657.125-.03.126-.032 2.438-.532.125-.03.124-.032.062-.03zM284 271.156l10.97 15.156-1.72 1.22-.094.093-.094.063-3.156 2.156-.094.062-.125.063-3.218 2.092-.095.063-.094.063-3.28 2-.094.062-.125.063-3.31 1.906-.095.06-.125.064-1.063.594-8.937-16.407.875-.5.188-.092 2.937-1.688.22-.125 2.874-1.75.187-.125 2.814-1.844.22-.125 2.936-2.03 1.5-1.094zm-133.53 2.72l.124.437.062.28.47 1.376.06.124.908 2.187.062.19.594 1.186.125.22.844 1.5.124.187.97 1.437.092.125L156 284.53l.094.095 1.28 1.406-13.81 12.595-1.376-1.5-.22-.22-.187-.25-1.624-2.03-.187-.25-.19-.28-1.468-2.158-.187-.25-.156-.28-1.345-2.282-.156-.28-.157-.283-1.188-2.375-.125-.312-.125-.28-1.03-2.5-.126-.314-.095-.31-.875-2.595-.094-.313-.094-.312-.187-.72 18.094-4.655zm230.31 3.312l.845 1.312.063.156.093.125.97 1.69.063.124.093.125.938 1.75.062.124.063.156.905 1.78.063.126.062.125.844 1.876.062.125.063.095.81 1.938.033.125.062.093.78 1.97.033.125.062.125.75 2.03.03.095.033.094.718 2.092.033.094.03.125.157.5-17.813 5.626-.093-.312-.094-.22-.563-1.655-.062-.22-.594-1.594-.092-.22-.594-1.53-.094-.22-.625-1.436-.094-.25-.624-1.375-.125-.25-.655-1.313-.125-.25-.656-1.218-.156-.25-.657-1.156-.186-.282-.656-1.062 15.843-9.906zm-127.405 10.906l6.97 17.344-3 1.218-.095.03-.094.033-3.594 1.342-.093.063-.126.03-3.594 1.25-.094.033-.125.03-3.624 1.188-.094.03-.093.033-3.657 1.092-.094.032-.095.03-.188.032-4.968-18 .186-.062 3.25-.97.188-.062 3.22-1.03.217-.063 3.407-1.22v.03l3.188-1.217.22-.094 2.78-1.126zm-83.75 6.156l.25.125.063.03 2.218.876.375.126 1.97.688.25.062.156.063 2.094.592.125.032.22.062 2.56.625 2.314.5.186.033.156.03 2.75.438-1.468 8.72-.094.5-1.22 9.28-.186-.03-.156-.03-3.063-.533-.188-.03-.156-.032-3.03-.625-.156-.03-.188-.033-2.937-.718-.157-.064-.188-.062-2.844-.813-.186-.06-.22-.064-2.75-.937-.186-.064-.22-.094-2.655-1.03-.188-.094-.22-.094-.655-.28 7.625-17.064zm49.938 3.53l2.843 18.47-3.344.5-.125.03h-.125l-3.562.47h-.125l-.094.03-3.56.345-.126.03h-.125l-3.5.283h-.251l-3.47.187h-.25l-1.156.03-.406-18.686.906-.033h.25l2.97-.156 3.25-.217v-.032l3.31-.31.19-.033h.06l3.095-.406.124-.03h.094l3.125-.47zm174.5 18l.375 2.376.03.125v.158l.72 5.218v.125l.03.126.563 5.406v.219l.47 5.564-18.625 1.5-.438-5.344-.03-.22-.5-4.905v-.063l-.032-.218-.625-4.656-.03-.282-.376-2.125 18.47-3zM326.5 346.595c18.893 3.46 44.913 16.187 68.875 33.875 7.46-9.835 14.425-20.4 21.313-31.095l30.062 12.97c-4.686 12.21-14.99 25.518-28.563 37.186 17.017 16.166 30.87 34.515 37 52.94-13.806-18.108-31.07-31.73-50.28-42.814-23.387 15.846-52.682 25.93-79.626 20.438 22.915-4.383 40.644-16.56 55.814-32.594-16.462-7.504-33.798-13.877-51.25-20.094l-3.344-30.812z',
        'wounded_animal': 'M314.78 19.47c-18.84 33-23.783 72.886 5.876 69.56 24.07-2.696 16.35-40.304-5.875-69.56zm-122.217 4c-17.095 33.8-19.95 73.854 9.5 69.218 23.9-3.764 14.227-40.983-9.5-69.22zm222.125 75.343c-21.958 30.365-30.705 69.304-.813 69.687 24.262.312 20.163-37.94.813-69.688zm-318.063 3.25C79.9 134.972 79 173.245 103.25 171.22c29.88-2.498 17.868-40.543-6.625-69.157zm217.594 8.374c-55.61 2.262-50.322 118.727 2.592 116.594 52.018-2.088 52.118-118.81-2.593-116.593zm-107.095 1.844c-.828.016-1.648.084-2.5.157-55.42 4.785-43.925 120.847 8.813 116.313 51.033-4.38 45.872-117.42-6.313-116.47zm-82.875 83.44c-1.612-.02-3.242.065-4.938.28-55.146 6.99-38.225 122.506 14.25 115.875 49.975-6.31 40.645-115.58-9.312-116.156zm278.625 1.343c-55.653-1.027-58.487 115.502-5.53 116.5 52.054.986 60.284-115.482 5.53-116.5zm-145 67.218c-57.02 1.258-12.988 60.186-113.78 94.44-78.123 26.548-30.808 106.533 36.06 106.81 36.702.154 49.8-28.817 79.845-28.686 34.116.144 36.844 26.134 86.78 26.344 63.76.263 100.665-80.2 27.72-107.532-92.875-34.798-54-90.786-113.813-91.375-.957-.008-1.907-.02-2.812 0z',
      };

      var testMarkers = [];
      MapBase.yieldingLoop(Encounters.markers.length, 25, function (i) {
        var marker = Encounters.markers[i];

        var backgroundColor = markerColors[Encounters.getIconColor(marker.category)];
        var iconPath = markerIcons[marker.category];

        var svg = `<?xml version="1.0" ?><svg viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="translate(0,0)"><path d="M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035 c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719z" fill="${backgroundColor}"></path></g><g transform="scale(0.5, 0.5) translate(260, 100)"><path d="${iconPath}" fill="#dbdbdb" stroke="#000000" stroke-width="8"></path></g></svg>`;
        var img = 'data:image/svg+xml,' + encodeURIComponent(svg);
        var icon = L.icon({
          iconUrl: img,
          iconSize: [42, 42],
          iconAnchor: [21, 42],
          popupAnchor: [0, -32],
          shadowAnchor: [10, 12],
        });
        var testMarker = L.marker([marker.lat, marker.lng], { icon: icon }).bindPopup(marker.description);
        testMarkers.push(testMarker);
      }, function () {
        Layers.canvasLayer.addLayers(testMarkers);
      });

      var testMarkersTemp = MapBase.markers.filter(_m => { return _m.category != 'plants'; });
      var testMarkers = [];
      MapBase.yieldingLoop(testMarkersTemp.length, 25, function (i) {
        var marker = testMarkersTemp[i];

        var backgroundColor = markerColors[MapBase.getIconColor(marker.category)];
        var iconPath = markerIcons[marker.category];

        var svg = `<?xml version="1.0" ?><svg viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="translate(0,0)"><path d="M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035 c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719z" fill="${backgroundColor}"></path></g><g transform="scale(0.5, 0.5) translate(260, 100)"><path d="${iconPath}" fill="#dbdbdb" stroke="#000000" stroke-width="8"></path></g></svg>`;
        var img = 'data:image/svg+xml,' + encodeURIComponent(svg);
        var icon = L.icon({
          iconUrl: img,
          iconSize: [42, 42],
          iconAnchor: [21, 42],
          popupAnchor: [0, -32],
          shadowAnchor: [10, 12],
        });
        var testMarker = L.marker([marker.lat, marker.lng], { icon: icon }).bindPopup(marker.description);
        testMarkers.push(testMarker);
      }, function () {
        Layers.canvasLayer.addLayers(testMarkers);
      });
    }

    Layers.itemMarkersLayer.addTo(MapBase.map);
    Layers.pinsLayer.addTo(MapBase.map);

    MapBase.addFastTravelMarker();

    Treasures.addToMap();
    Encounters.addToMap();

    if (refreshMenu)
      Menu.refreshMenu();

    MapBase.loadImportantItems();
  },

  removeItemFromMap: function (text, subdata, category) {
    if (category == 'treasure') {
      if (Treasures.enabledTreasures.includes(text))
        Treasures.enabledTreasures = $.grep(Treasures.enabledTreasures, function (treasure) {
          return treasure !== text;
        });
      else
        Treasures.enabledTreasures.push(text);

      $(`[data-type=${text}]`).toggleClass('disabled');

      Treasures.addToMap();
      Treasures.save();
    }
  },

  getIconColor: function (value) {
    switch (value) {
      case "campfires":
        return "cadetblue";
      case "hideouts":
        return "darkred";
      case "boats":
        return "darkblue";
      case "trains":
        return "darkblue";
      case "plants":
        return "green";
      default:
        return "red";
    }
  },

  updateMarkerContent: function (marker) {
    var popupContent = marker.description;

    // TODO: Fix later. :-)
    // var shareText = `<a href="javascript:void(0)" onclick="setClipboardText('https://jeanropke.github.io/RDR2CollectorsMap/?m=${marker.text}')">${Language.get('map.copy_link')}</a>`;
    // var importantItem = ` | <a href="javascript:void(0)" onclick="MapBase.highlightImportantItem('${marker.text || marker.subdata}', '${marker.category}')">${Language.get('map.mark_important')}</a>`;
    // var linksElement = $('<p>').addClass('marker-popup-links').append(shareText).append(importantItem);
    var linksElement = $('<p>');

    return `<h1>${marker.title}</h1>
        <span class="marker-content-wrapper">
        <p>${popupContent}</p>
        </span>
        ${linksElement.prop('outerHTML')}
        `;
  },

  addMarkerOnMap: function (marker, opacity = 1) {
    if (!uniqueSearchMarkers.includes(marker)) return;
    if (!enabledCategories.includes(marker.category)) return;

    var overlay = '';
    var icon = `./assets/images/icons/${marker.category}.png`;
    var background = `./assets/images/icons/marker_${MapBase.getIconColor(marker.category)}.png`;
    var shadow = Settings.isShadowsEnabled ? '<img class="shadow" src="./assets/images/markers-shadow.png" alt="Shadow">' : '';

    // Height overlays
    if (marker.height == '1') {
      overlay = '<img class="overlay" src="./assets/images/icons/overlay_high.png" alt="Overlay">'
    }

    if (marker.height == '-1') {
      overlay = '<img class="overlay" src="./assets/images/icons/overlay_low.png" alt="Overlay">'
    }

    var tempMarker = L.marker([marker.lat, marker.lng], {
      opacity: marker.canCollect ? opacity : opacity / 3,
      icon: new L.DivIcon.DataMarkup({
        iconSize: [35, 45],
        iconAnchor: [17, 42],
        popupAnchor: [1, -32],
        shadowAnchor: [10, 12],
        html: `
          ${overlay}
          <img class="icon" src="${icon}" alt="Icon">
          <img class="background" src="${background}" alt="Background">
          ${shadow}
        `,
        marker: marker.text
      })
    });

    marker.isVisible = true;
    tempMarker.id = marker.text;
    tempMarker.bindPopup(MapBase.updateMarkerContent(marker), { minWidth: 300, maxWidth: 400 });

    Layers.itemMarkersLayer.addLayer(tempMarker);
    if (Settings.markerCluster)
      Layers.oms.addMarker(tempMarker);

    MapBase.loadImportantItems();
  },

  createCanvasMarker: function (marker, opacity = 1) {
    if (!uniqueSearchMarkers.includes(marker)) return;
    if (!enabledCategories.includes(marker.category)) return;

    var tempMarker = L.marker([marker.lat, marker.lng], {
      opacity: marker.canCollect ? opacity : opacity / 3,
      icon: new L.divIcon({
        iconUrl: `assets/images/markers/plants.png`,
        iconSize: [30, 40],
        iconAnchor: [17, 42],
        popupAnchor: [1, -32]
      })
    });

    marker.isVisible = true;
    tempMarker.id = marker.text;
    tempMarker.bindPopup(MapBase.updateMarkerContent(marker), { minWidth: 300, maxWidth: 400 });

    return tempMarker;
  },

  gameToMap: function (lat, lng, name = "Debug Marker") {
    MapBase.debugMarker((0.01552 * lng + -63.6), (0.01552 * lat + 111.29), name);
  },

  game2Map: function ({ x, y, z }) {
    MapBase.debugMarker((0.01552 * y + -63.6), (0.01552 * x + 111.29), z);
  },

  highlightImportantItem(text, category) {
    if (category === 'american_flowers' || category === 'bird_eggs')
      text = text.replace(/(egg_|flower_)(\w+)(_\d)/, '$2');

    $(`[data-type=${text}]`).toggleClass('highlight-important-items-menu');

    if (text === 'eagle') // prevent from highlight eagle coins and eggs together
      text = 'egg_eagle';

    $(`[data-marker*=${text}]`).toggleClass('highlight-items');

    if ($(`[data-marker*=${text}].highlight-items`).length)
      MapBase.itemsMarkedAsImportant.push(text);
    else
      MapBase.itemsMarkedAsImportant.splice(MapBase.itemsMarkedAsImportant.indexOf(text), 1);

    $.each(localStorage, function (key) {
      localStorage.removeItem('importantItems');
    });

    localStorage.setItem('importantItems', JSON.stringify(MapBase.itemsMarkedAsImportant));
  },

  loadImportantItems() {
    if (typeof localStorage.importantItems === 'undefined')
      localStorage.importantItems = "[]";

    MapBase.itemsMarkedAsImportant = JSON.parse(localStorage.importantItems) || [];

    $.each(MapBase.itemsMarkedAsImportant, function (key, value) {
      $(`[data-marker*=${value}]`).addClass('highlight-items');
      $(`[data-type=${value}]`).addClass('highlight-important-items-menu');
    });
  },

  loadFastTravels: function () {
    $.getJSON('data/fasttravels.json?nocache=' + nocache)
      .done(function (data) {
        fastTravelData = data;
      });
    console.info('%c[Fast travels] Loaded!', 'color: #bada55; background: #242424');
  },

  addFastTravelMarker: function () {
    if (enabledCategories.includes('fast_travel')) {
      $.each(fastTravelData, function (key, value) {
        var shadow = Settings.isShadowsEnabled ? '<img class="shadow" src="./assets/images/markers-shadow.png" alt="Shadow">' : '';
        var marker = L.marker([value.x, value.y], {
          icon: L.divIcon({
            iconSize: [35, 45],
            iconAnchor: [17, 42],
            popupAnchor: [1, -32],
            shadowAnchor: [10, 12],
            html: `
              <img class="icon" src="./assets/images/icons/fast_travel.png" alt="Icon">
              <img class="background" src="./assets/images/icons/marker_gray.png" alt="Background">
              ${shadow}
            `
          })
        });

        marker.bindPopup(`<h1>${Language.get(value.text + '.name')}</h1>`);

        Layers.itemMarkersLayer.addLayer(marker);
      });
    }
  },

  submitDebugForm: function () {
    var lat = $('input[name=debug-marker-lat]').val();
    var lng = $('input[name=debug-marker-lng]').val();
    if (!isNaN(lat) && !isNaN(lng))
      MapBase.debugMarker(lat, lng);
  },

  debugMarker: function (lat, long, name = 'Debug Marker') {
    var shadow = Settings.isShadowsEnabled ? '<img class="shadow" src="./assets/images/markers-shadow.png" alt="Shadow">' : '';
    var marker = L.marker([lat, long], {
      icon: L.divIcon({
        iconSize: [35, 45],
        iconAnchor: [17, 42],
        popupAnchor: [1, -32],
        shadowAnchor: [10, 12],
        html: `
          <img class="icon" src="./assets/images/icons/random.png" alt="Icon">
          <img class="background" src="./assets/images/icons/marker_darkblue.png" alt="Background">
          ${shadow}
        `
      })
    });
    var customMarkerName = ($('#debug-marker-name').val() != '' ? $('#debug-marker-name').val() : name);
    marker.bindPopup(`<h1>${customMarkerName}</h1><p>Lat.: ${lat}<br>Long.: ${long}</p>`, { minWidth: 300, maxWidth: 400 });
    Layers.itemMarkersLayer.addLayer(marker);
    var tempArray = [];
    tempArray.push(lat || 0, long || 0, customMarkerName);
    debugMarkersArray.push(tempArray);
  },

  addCoordsOnMap: function (coords) {
    // Show clicked coordinates (like google maps)
    if (Settings.isCoordsEnabled) {
      $('.lat-lng-container').css('display', 'block');

      $('.lat-lng-container p').html(`Latitude: ${parseFloat(coords.latlng.lat.toFixed(4))}<br>Longitude: ${parseFloat(coords.latlng.lng.toFixed(4))}`);

      $('#lat-lng-container-close-button').click(function () {
        $('.lat-lng-container').css('display', 'none');
      });

      // Auto fill debug markers inputs
      Menu.liveUpdateDebugMarkersInputs(coords.latlng.lat, coords.latlng.lng);
    }

    if (Settings.isPinsPlacingEnabled)
      Pins.addPin(coords.latlng.lat, coords.latlng.lng);
  },

  formatDate: function (date) {
    var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    var _day = date.split('/')[2];
    var _month = monthNames[date.split('/')[1] - 1];
    var _year = date.split('/')[0];
    return `${_month} ${_day}, ${_year}`;
  },

  yieldingLoop: function (count, chunksize, callback, finished) {
    var i = 0;
    (function chunk() {
      var end = Math.min(i + chunksize, count);
      for (; i < end; ++i) {
        callback.call(null, i);
      }
      if (i < count) {
        setTimeout(chunk, 0);
      } else {
        finished.call(null);
      }
    })();
  }
};